(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{164:function(a,t,c){"use strict";function e(a,t,c,e,o,s,i,n){var r,l="function"==typeof a?a.options:a;if(t&&(l.render=t,l.staticRenderFns=c,l._compiled=!0),e&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),i?(r=function(a){(a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),o&&o.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(i)},l._ssrRegister=r):o&&(r=n?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(l.functional){l._injectStyles=r;var p=l.render;l.render=function(a,t){return r.call(t),p(a,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,r):[r]}return{exports:a,options:l}}c.d(t,"a",(function(){return e}))},91:function(a,t,c){"use strict";c.r(t);var e={props:["pessoa"],data:function(){return{capacitacao:{idPessoaCapacitacao:0},capacitacoes:[],capacitacoesdb:[],carregando:!0,mensagem:"Carregando capacitações cadastradas",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',montou:!1,atual:[]}},methods:{carregar:function(a){this.mensagem=a,this.html='<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',this.carregando=!0},sucesso:function(a){this.mensagem=a,this.html='<i class="fa fa-check-circle fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),800)},alerta:function(a){this.mensagem=a,this.html='<i class="fa fa-close fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),1e3)},abrir:function(){this.$refs.myModal.show()},ok:function(a){var t=this;this.carregar("Salvando..."),a.preventDefault(),axios.post("/pessoas/capacitacao/list/"+this.pessoa.idPessoa,{capacitacao:t.capacitacao}).then((function(a){"erro"!=a.data?(t.capacitacoes=a.data,t.sucesso("Capacitação salva!"),t.fechar()):t.alerta("Ocorreu um erro!")}))},preencher:function(a){this.capacitacao=Object.assign({},a),this.atual=this.capacitacao.capacitacao.idCapacitacao,this.abrir()},fechar:function(){this.capacitacao={idPessoaCapacitacao:0},this.$refs.myModal.hide(),this.atual=[]},capacitacaoEmCapacitacoes:function(a){for(var t=0;t<this.capacitacoes.length;t++)if(this.capacitacoes[t].capacitacao&&this.capacitacoes[t].capacitacao.idCapacitacao===a.idCapacitacao)return!0;return!1},remover:function(a){this.carregar("Removendo...");var t=this;axios.get("/pessoas/capacitacao/deletar/"+a.idPessoaCapacitacao+"/"+this.pessoa.idPessoa).then((function(a){"erro"!=a.data?(t.capacitacoes=a.data,t.sucesso("Removido com sucesso!")):t.alerta("Ocorreu um erro!")}))}},mounted:function(){console.log(this.pessoa);var a=this;this.carregando=!0,axios.get("/tabelas/capacitacao/list").then((function(t){a.capacitacoesdb=t.data})),axios.get("/pessoas/capacitacao/list/"+this.pessoa.idPessoa).then((function(t){a.capacitacoes=t.data,a.montou=!0,console.log(a.capacitacoes),setTimeout((function(){a.carregando=!1}),200)}))}},o=c(164),s=Object(o.a)(e,(function(){var a=this,t=a.$createElement,c=a._self._c||t;return c("section",{staticClass:"content"},[a.carregando?c("BlockUI",{attrs:{message:a.mensagem,html:a.html}}):a._e(),a._v(" "),a.montou?c("div",{staticClass:"box box-info"},[c("div",{staticClass:"box-body table-responsive"},[c("table",{staticClass:"table table-hover table-striped",attrs:{id:"tabelaListagem"}},[a._m(0),a._v(" "),c("tbody",a._l(a.capacitacoes,(function(t){return c("tr",[c("td",{staticStyle:{"vertical-align":"middle"},attrs:{width:"80px"}},[c("b",[a._v(a._s(t.idPessoaCapacitacao))])]),a._v(" "),t.capacitacao?c("td",{staticStyle:{"text-align":"justify"}},[a._v("\n                                "+a._s(t.capacitacao.descricao))]):a._e(),a._v(" "),c("td",[a._v(a._s(a._f("moment")(t.dataCapacitacao,"DD/MM/Y")))]),a._v(" "),c("td",[a._v(a._s(a._f("moment")(t.dataVencimento,"DD/MM/Y")))]),a._v(" "),c("td",[a._v(a._s(t.cargaHoraria))]),a._v(" "),c("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{width:"100px"}},[c("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(c){return a.remover(t)}}},[c("i",{staticClass:"fa fa-trash"})]),a._v(" "),c("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(c){return a.preencher(t)}}},[c("i",{staticClass:"fas fa-pencil-alt"})])])])})),0)])]),a._v(" "),c("div",{staticClass:"box-footer clearfix"},[c("div",{staticClass:"col-md-12 no-padding text-center"},[c("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){return a.abrir()}}},[c("i",{staticClass:"fa fa-plus"}),a._v("\n                        Adicionar")])])])]):a._e(),a._v(" "),c("b-modal",{ref:"myModal",attrs:{size:"xl",centered:"","no-close-on-backdrop":!0,"hide-header-close":!0,"no-close-on-esc":!0,title:"Detalhes da capacitação","ok-title":"Salvar","cancel-title":"Cancelar",id:"modal1"},on:{ok:a.ok,cancel:function(t){return a.fechar()}}},[c("div",{staticClass:"row"},[c("div",{staticClass:"col-md-1"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("ID")]),a._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.idPessoaCapacitacao,expression:"capacitacao.idPessoaCapacitacao"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.capacitacao.idPessoaCapacitacao},on:{input:function(t){t.target.composing||a.$set(a.capacitacao,"idPessoaCapacitacao",t.target.value)}}})])]),a._v(" "),c("div",{staticClass:"col-md-6"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("Capacitação")]),a._v(" "),c("select",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.capacitacao,expression:"capacitacao.capacitacao"}],staticClass:"form-control",attrs:{id:""},on:{change:function(t){var c=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.capacitacao,"capacitacao",t.target.multiple?c:c[0])}}},a._l(a.capacitacoesdb,(function(t){return a.capacitacaoEmCapacitacoes(t)&&t.idCapacitacao!==a.atual?a._e():c("option",{domProps:{value:t}},[a._v("\n                                "+a._s(t.descricao))])})),0)])]),a._v(" "),c("div",{staticClass:"col-md-2"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("Data Capacitação")]),a._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.dataCapacitacao,expression:"capacitacao.dataCapacitacao"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:a.capacitacao.dataCapacitacao},on:{input:function(t){t.target.composing||a.$set(a.capacitacao,"dataCapacitacao",t.target.value)}}})])]),a._v(" "),c("div",{staticClass:"col-md-2"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("Data Vencimento")]),a._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.dataVencimento,expression:"capacitacao.dataVencimento"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:a.capacitacao.dataVencimento},on:{input:function(t){t.target.composing||a.$set(a.capacitacao,"dataVencimento",t.target.value)}}})])]),a._v(" "),c("div",{staticClass:"col-md-1"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("C. Hor.")]),a._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.cargaHoraria,expression:"capacitacao.cargaHoraria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.capacitacao.cargaHoraria},on:{input:function(t){t.target.composing||a.$set(a.capacitacao,"cargaHoraria",t.target.value)}}})])])]),a._v(" "),c("div",{staticClass:"row"},[c("div",{staticClass:"col-md-12"},[c("div",{staticClass:"form-group"},[c("label",{attrs:{for:""}},[a._v("Observação")]),a._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:a.capacitacao.observacao,expression:"capacitacao.observacao"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.capacitacao.observacao},on:{input:function(t){t.target.composing||a.$set(a.capacitacao,"observacao",t.target.value)}}})])])])])],1)}),[function(){var a=this,t=a.$createElement,c=a._self._c||t;return c("thead",[c("tr",[c("th",[a._v("\n                                ID\n                            ")]),a._v(" "),c("th",[a._v("\n                                Capacitação\n                            ")]),a._v(" "),c("th",[a._v("Data")]),a._v(" "),c("th",[a._v("Vencimento")]),a._v(" "),c("th",[a._v("Carga Horária")]),a._v(" "),c("th",{staticClass:"text-center no-sort"},[a._v("Ações")])])])}],!1,null,null,null);t.default=s.exports}}]);
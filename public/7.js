(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{164:function(a,t,e){"use strict";function o(a,t,e,o,i,s,c,r){var n,l="function"==typeof a?a.options:a;if(t&&(l.render=t,l.staticRenderFns=e,l._compiled=!0),o&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),c?(n=function(a){(a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),i&&i.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(c)},l._ssrRegister=n):i&&(n=r?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),n)if(l.functional){l._injectStyles=n;var d=l.render;l.render=function(a,t){return n.call(t),d(a,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,n):[n]}return{exports:a,options:l}}e.d(t,"a",(function(){return o}))},170:function(a,t,e){var o=e(244);"string"==typeof o&&(o=[[a.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(133)(o,i);o.locals&&(a.exports=o.locals)},19:function(a,t,e){"use strict";e.r(t);var o={data:function(){return{capacitacoes:"",descricao:"",codigo:"",complemento:"",periodicidade:"",periodo:"SELECIONE",grupo:"SELECIONE",tipo:"SELECIONE",habilitacao:"SELECIONE",tabela29:"",observacao:"",completa:"",pai:"",id:"",erro:!1,editar:!1,carregando:!0,mensagem:"Carregando capacitações cadastradas",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',montou:!1,deletar:"",destaque:"",coluna:"id",ordem:!0,termo:"",selecionado:"id",idTabela:"#tabelaListagem"}},methods:{carregar:function(a){this.mensagem=a,this.html='<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',this.carregando=!0},sucesso:function(a){this.mensagem=a,this.html='<i class="fa fa-check-circle fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),800)},alerta:function(a){this.mensagem=a,this.html='<i class="fa fa-close fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),1e3)},foco:function(a){scrollPageTo("#capacitacao"+a),this.destaque=a;var t=this;setTimeout((function(){t.destaque="",console.log("foi")}),2e3)},salvar:function(){this.carregar("Salvando novo capacitacao...");var a=this;""!=this.descricao||""!=this.codigo?axios.post("/tabelas/capacitacao",{descricao:a.descricao,grupo:a.grupo,periodo:a.periodo,periodicidade:a.periodicidade,tipo:a.tipo,habilitacao:a.habilitacao,tabela29:a.tabela29,pai:a.pai,completa:a.completa,observacao:a.observacao,complemento:a.complemento}).then((function(t){if(console.log(t.data),"existente"==t.data)a.codigo="",a.erro=!0,a.alerta("Código capacitacao já existente, verifique!");else{a.capacitacoes=t.data,a.descricao="",a.grupo="",a.periodo="",a.periodicidade="",a.tipo="",a.habilitacao="",a.tabela29="",a.pai="",a.complemento="",a.observacao="",a.completa="",a.erro=!1,a.$nextTick((function(){a.fechar(),a.sucesso("Salvo com sucesso!")}));var e=a.capacitacoes[a.capacitacoes.length-1];console.log(e),setTimeout((function(){scrollPageTo("#capacitacao"+e.idCapacitacao),a.destaque=e.idCapacitacao,setTimeout((function(){a.destaque=""}),2e3)}),800)}})):a.alerta("Preencha todos os campos")},atualizar:function(){var a=this;this.carregar("Atualizando novo capacitacao..."),""!=this.descricao?axios.post("/tabelas/capacitacao/update/"+this.id,{descricao:a.descricao,grupo:a.grupo,periodo:a.periodo,periodicidade:a.periodicidade,tipo:a.tipo,habilitacao:a.habilitacao,tabela29:a.tabela29,pai:a.pai,completa:a.completa,complemento:a.complemento,observacao:a.observacao}).then((function(t){console.log(t.data),"existente"==t.data?(a.codigo="",a.erro=!0,a.alerta("Código capacitacao já existente, verifique!")):(a.capacitacoes=t.data,a.descricao="",a.grupo="",a.periodo="",a.periodicidade="",a.complemento="",a.tipo="",a.habilitacao="",a.tabela29="",a.completa="",a.pai="",a.observacao="",a.erro=!1,a.$nextTick((function(){a.fechar(),a.sucesso("Atualizado com sucesso!")})))})):a.alerta("Preencha todos os campos")},abrir:function(){$(this.idTabela).DataTable().destroy(),this.$refs.myModal.show()},preencher:function(a){this.carregar("Carregando dados..."),this.complemento=a.complemento,this.descricao=a.descricao,this.grupo=a.grupoCapacitacao,this.periodo=a.periodo,this.periodicidade=a.periodicidade,this.tipo=a.tipo,this.habilitacao=a.tipoHabilitacao,this.tabela29=a.tabela29,this.completa=a.descricaoCompleta,this.id=a.idCapacitacao,this.observacao=a.observacao,a.capacitacaoPai&&(this.pai=a.capacitacaoPai.idCapacitacao),this.editar=!0,this.abrir(),this.sucesso("Dados carregados!")},remover:function(a){this.deletar=a.idCapacitacao,this.$refs.modalCerteza.show(),$(this.idTabela).DataTable().destroy()},ok:function(a){a.preventDefault(),this.editar?this.atualizar():this.salvar()},fechar:function(){this.$root.$emit("montou",[this.idTabela]),this.editar=!1,this.descricao="",this.grupo="",this.periodo="",this.periodicidade="",this.tipo="",this.habilitacao="",this.tabela29="",this.completa="",this.id="",this.observacao="",this.pai="",this.$refs.myModal.hide()},fecharCerteza:function(){this.$root.$emit("montou",[this.idTabela]),this.$refs.modalCerteza.hide()},certeza:function(){this.carregar("Removendo capacitação...");var a=this;axios.get("/tabelas/capacitacao/remover/"+this.deletar).then((function(t){"erro"!=t.data?(a.capacitacoes=t.data,a.$nextTick((function(){a.fecharCerteza(),a.sucesso("Excluido com sucesso!")}))):a.$nextTick((function(){a.fecharCerteza(),a.alerta("Erro ao excluir!")}))}))}},mounted:function(){var a=this;axios.get("/tabelas/capacitacao/list").then((function(t){a.capacitacoes=t.data,a.montou=!0,setTimeout((function(){a.$root.$emit("montou",[a.idTabela]),a.carregando=!1}),200)}))}},i=(e(243),e(164)),s=Object(i.a)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"content"},[a.carregando?e("BlockUI",{attrs:{message:a.mensagem,html:a.html}}):a._e(),a._v(" "),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px","margin-top":"10px"}},[e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{id:"modal",type:"button"},on:{click:a.abrir}},[e("i",{staticClass:"fa fa-plus"}),a._v(" Incluir")]),a._v(" "),a.montou?e("download-excel",{staticClass:"btn btn-sm btn-secondary",attrs:{data:this.capacitacoes,name:"capacitacoes.xls"}},[e("i",{staticClass:"far fa-save"}),a._v(" Exportar\n            ")]):a._e()],1)]),a._v(" "),a.montou?e("div",{staticClass:"box box-info"},[e("div",{staticClass:"box-body table-responsive"},[e("table",{staticClass:"table table-hover table-striped",attrs:{id:"tabelaListagem"}},[a._m(0),a._v(" "),e("tbody",a._l(a.capacitacoes,(function(t){return e("tr",[e("td",[a._v(a._s(t.idCapacitacao))]),a._v(" "),e("td",[a._v(a._s(t.descricao))]),a._v(" "),e("td",[a._v(a._s(t.grupoCapacitacao)+" - "+a._s(t.complemento))]),a._v(" "),e("td",[a._v(a._s(t.tabela29))]),a._v(" "),e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{width:"100px"}},[e("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return a.remover(t)}}},[e("i",{staticClass:"fa fa-trash"})]),a._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return a.preencher(t)}}},[e("i",{staticClass:"fas fa-pencil-alt"})])])])})),0)])])]):a._e(),a._v(" "),e("b-modal",{ref:"myModal",attrs:{size:"xl",centered:"","no-close-on-backdrop":!0,"hide-header-close":!0,"no-close-on-esc":!0,title:"Detalhes da Capacitação","ok-title":"Salvar","cancel-title":"Cancelar",id:"modal1"},on:{ok:a.ok,cancel:function(t){return a.fechar()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Descrição")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.descricao,expression:"descricao"}],staticClass:"form-control",domProps:{value:a.descricao},on:{input:function(t){t.target.composing||(a.descricao=t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Tabela 29")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.tabela29,expression:"tabela29"}],staticClass:"form-control",domProps:{value:a.tabela29},on:{input:function(t){t.target.composing||(a.tabela29=t.target.value)}}})])])]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Descrição Completa")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.completa,expression:"completa"}],staticClass:"form-control",attrs:{type:"text",name:"descricao"},domProps:{value:a.completa},on:{input:function(t){t.target.composing||(a.completa=t.target.value)}}})])])]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Grupo de Capacitação")]),a._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:a.grupo,expression:"grupo"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.grupo=t.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"SELECIONE"}},[a._v("Selecione")]),a._v(" "),e("option",{attrs:{value:"NR"}},[a._v("NR")]),a._v(" "),e("option",{attrs:{value:"OPERACIONAL"}},[a._v("OPERACIONAL")]),a._v(" "),e("option",{attrs:{value:"OUTROS"}},[a._v("Outros")])])])]),a._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Complemento")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.complemento,expression:"complemento"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.complemento},on:{input:function(t){t.target.composing||(a.complemento=t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Tipo")]),a._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:a.tipo,expression:"tipo"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.tipo=t.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"SELECIONE"}},[a._v("Selecione")]),a._v(" "),e("option",{attrs:{value:"QUALIFICAÇÃO"}},[a._v("Qualificação")]),a._v(" "),e("option",{attrs:{value:"HABILITAÇÃO"}},[a._v("Habilitação")]),a._v(" "),e("option",{attrs:{value:"CAPACITAÇÃO"}},[a._v("Habilitação")])])])])]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Capacitação Pai")]),a._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:a.pai,expression:"pai"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.pai=t.target.multiple?e:e[0]}}},a._l(a.capacitacoes,(function(t){return e("option",{domProps:{value:t.idCapacitacao}},[a._v(" #"+a._s(t.idCapacitacao)+" - "+a._s(t.descricao))])})),0)])])])]),a._v(" "),e("b-modal",{ref:"modalCerteza",attrs:{size:"sm","no-close-on-backdrop":!0,centered:"","hide-header":!0,"hide-footer":!0,"no-close-on-esc":!0,id:"modalCerteza"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("h3",[a._v("Tem certeza que deseja excluir esta capacitação?")])])]),a._v(" "),e("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn btn-block btn-secondary btn-lg",attrs:{type:"button"},on:{click:a.fecharCerteza}},[e("i",{staticClass:"fa fa-close"}),a._v(" Não")])]),a._v(" "),e("div",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn btn-block btn-danger btn-lg",attrs:{type:"button"},on:{click:a.certeza}},[e("i",{staticClass:"fa fa-check"}),a._v(" Sim")])])])])],1)}),[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"100px"}},[a._v("\n                            ID\n                        ")]),a._v(" "),e("th",[a._v("\n                            Nome\n                        ")]),a._v(" "),e("th",[a._v("\n                            Grupo / Complemento\n                        ")]),a._v(" "),e("th",[a._v("\n                            T29 - eSocial\n                        ")]),a._v(" "),e("th",{staticClass:"text-center no-sort"},[a._v("Ações")])])])}],!1,null,null,null);t.default=s.exports},243:function(a,t,e){"use strict";e(170)},244:function(a,t,e){(a.exports=e(132)(!1)).push([a.i,".btn-editar {\n  color: #008d4c;\n}\n.btn-remover {\n  color: red;\n}\n.row-flex {\n  flex-wrap: wrap;\n  display: flex;\n}\n.row-flex .col-box {\n  margin-bottom: 10px;\n}\n.row-flex .col-box .box-default,\n.row-flex .col-box .box-successr {\n  height: 90%;\n}\n.detalhes {\n  padding-left: 20px;\n}\nth {\n  font-weight: 400;\n  cursor: pointer;\n}\nth.selecionado {\n  font-weight: 800;\n}\n@keyframes highlight {\n0% {\n    background: rgba(0, 141, 76, 0.6);\n    /* lovely yellow colour */\n}\n100% {\n    background: #ffffff;\n}\n}\n.highlight {\n  animation: highlight 2s;\n}",""])}}]);
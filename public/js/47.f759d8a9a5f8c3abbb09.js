(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{0:function(a,o,t){"use strict";function e(a,o,t,e,s,i,c,n){var r,l="function"==typeof a?a.options:a;if(o&&(l.render=o,l.staticRenderFns=t,l._compiled=!0),e&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),c?(r=function(a){(a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),s&&s.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(c)},l._ssrRegister=r):s&&(r=n?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(l.functional){l._injectStyles=r;var m=l.render;l.render=function(a,o){return r.call(o),m(a,o)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,r):[r]}return{exports:a,options:l}}t.d(o,"a",(function(){return e}))},166:function(a,o,t){var e=t(302);"string"==typeof e&&(e=[[a.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};t(2)(e,s);e.locals&&(a.exports=e.locals)},301:function(a,o,t){"use strict";t(166)},302:function(a,o,t){(a.exports=t(1)(!1)).push([a.i,".modal-header .close[data-v-6ad4ce48]{position:absolute;right:15px;z-index:1000}.selecionar[data-v-6ad4ce48]{cursor:pointer}.selecionado[data-v-6ad4ce48]{background-color:#71bb66}.form-group[data-v-6ad4ce48]{margin-bottom:.5rem}.input-warning[data-v-6ad4ce48]{background-color:#fce3bd}",""])},76:function(a,o,t){"use strict";t.r(o);var e={props:["empresa"],data:function(){return{selecionados:[],exames:[],carregando:!1,mensagem:"Carregando...",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',pessoas:[],cpf:"",funcionarios:[],solicitacao:{empresaFuncionario:{pessoa:{},funcao:{},ambienteTrabalho:{},empresaContrato:{}},asoSolicitacaoExames:[],asoSolicitacaoExameAvulso:[]},solicitacoes:[],contratos:[],ambientes:[],funcoes:[],examesPcmso:[]}},methods:{relatorio:function(a){this.carregar("Gerando relatorio...");var o=this;axios.get("/solicitacao-exames/solicitacao/"+a.idAsoSolicitacao+"/relatorio").then((function(a){window.open("http://"+a.data.report),o.carregando=!1}))},adicionar:function(){var a=this;axios.get("/tabelas/exames/list/").then((function(o){a.exames=o.data,a.$refs.modalExames.show()}))},adicionarMonitoramento:function(){this.carregar("Buscando exames...");var a=this;axios.post("/solicitacao-exames",{solicitacao:this.solicitacao}).then((function(o){console.log(o.data),a.carregando=!1,"false"!=o.data.status?(a.solicitacao=o.data,"ADMISSIONAL"!=a.solicitacao.tipoAtestado&&(a.funcionarios=[],a.funcionarios.push(a.solicitacao.empresaFuncionario)),axios.get("/tabelas/exames/list/").then((function(o){a.exames=o.data,a.$refs.modalExames.show()}))):a.$alert("Erro. Verifique os dados!","Ops!","error")}))},fechar:function(){this.selecionados=[]},mudouPessoa:function(){var a=this,o=this.solicitacoes.filter((function(o){return o.empresaFuncionario.pessoa.idPessoa==a.solicitacao.empresaFuncionario.pessoa.idPessoa&&o.empresaFuncionario.empresaContrato.empresa.idEmpresa==a.empresa.idEmpresa&&o.tipoAtestado==a.solicitacao.tipoAtestado&&a.dataDiff(o.data,a.solicitacao.data)<=30}));if(o.length>0){if("ADMISSIONAL"==a.solicitacao.tipoAtestado)var t="Essa pessoa já tem uma solicitação admissional de menos de 30 dias.";else if("PERIÓDIOCO"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação periodica de menos de 30 dias.";else if("MONITORAÇÃO_PONTUAL"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação de monitoração pontual de menos de 30 dias.";else if("DEMISSIONAL"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação de exame demissional de menos de 30 dias.";var e={title:"Atenção!",text:t,type:"warning",showCancelButton:!0,confirmButtonText:"Editar",cancelButtonText:"Sair",animation:!1};this.$fire(e).then((function(t){1==t.value&&a.editar(o[0])})),this.solicitacao={data:(new Date).toISOString().slice(0,10),empresaFuncionario:{pessoa:{},funcao:{cargo:""},empresaContrato:{empresaContratante:{nomeFantasia:""}},ambienteTrabalho:{nomeAmbienteTrabalho:"",idOrigem:""}},asoSolicitacaoExames:[]}}else this.buscaPcmso()},estaSelecionado:function(a){return this.selecionados.includes(a)},estaAdicionado:function(a){if(0!=this.solicitacao.idAsoSolicitacao){var o=this.solicitacao.asoSolicitacaoExames.findIndex((function(o){return o.pcmsoAmbienteExame.exame.idExame==a.idExame})),t=this.solicitacao.asoSolicitacaoExameAvulso.findIndex((function(o){return o.exame.idExame==a.idExame}));return!(o<0&&t<0)}return!1},salvarExames:function(){var a=this;this.selecionados.forEach((function(o){a.solicitacao.asoSolicitacaoExameAvulso.push({exame:o,idAsoSolicitacaoExameAvulso:0,asoSolicitacao:0,usuario:1})})),this.selecionados=[]},buscarExames:function(){var a=this;this.carregar("Buscando exames..."),axios.get("/solicitacao-exames/solicitacao/"+this.solicitacao.idAsoSolicitacao+"/exames-pcmso").then((function(o){a.solicitacao.asoSolicitacaoExames=o.data,console.log(o.data),a.carregando=!1}))},carregar:function(a){this.mensagem=a,this.html='<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',this.carregando=!0},modalAdmissional:function(){var a=this;this.solicitacao={data:(new Date).toISOString().slice(0,10),empresaFuncionario:{pessoa:{},funcao:{},ambienteTrabalho:{},empresaContrato:{}},asoSolicitacaoExames:[],asoSolicitacaoExameAvulso:[]},this.cpf="",this.solicitacao.idAsoSolicitacao=0,this.solicitacao.tipo="SOLICITAÇÃO",this.solicitacao.tipoAtestado="ADMISSIONAL",this.buscarPessoasContratos((function(){a.$refs.modalAdmissional.show()}))},modalPeriodico:function(a){this.carregar("Buscando funcionários..."),this.solicitacao={data:(new Date).toISOString().slice(0,10),empresaFuncionario:{pessoa:{},funcao:{cargo:""},empresaContrato:{empresaContratante:{nomeFantasia:""}},ambienteTrabalho:{nomeAmbienteTrabalho:"",idOrigem:""}},asoSolicitacaoExames:[],asoSolicitacaoExameAvulso:[]},console.log(this.solicitacao),this.solicitacao.idAsoSolicitacao=0,this.solicitacao.tipo="SOLICITAÇÃO",this.solicitacao.tipoAtestado=a;var o=this;"RETORNO_TRABALHO"==a?axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/empresaFuncionarios/listaFuncionariosAfastadosAtivosPorIdEmpresa/"+o.empresa.idEmpresa).then((function(a){o.funcionarios=a.data,o.$refs.modalPeriodico.show(),o.carregando=!1})):axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/empresaFuncionarios/listaPorIdEmpresa/"+this.empresa.idEmpresa).then((function(a){o.funcionarios=a.data,o.$refs.modalPeriodico.show(),o.carregando=!1}))},buscarPessoasContratos:function(a){var o=this;axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/pessoas/semVinculoEmpregaticioPorIdEmpresa/"+this.empresa.idEmpresa).then((function(t){o.pessoas=t.data,axios.get("/empresas/contratos/"+o.empresa.idEmpresa).then((function(t){o.contratos=t.data,(a||Function)()}))}))},editar:function(a){this.carregar("Carregando solicitação...");var o=this;axios.get("/solicitacao-exames/solicitacao/"+a.idAsoSolicitacao).then((function(a){o.solicitacao=a.data,console.log(o.solicitacao),o.buscarPessoasContratos((function(){"ADMISSIONAL"==o.solicitacao.tipoAtestado?(o.buscaPcmso(o.buscaCargos(o.$refs.modalAdmissional.show())),o.pessoas.push(o.solicitacao.empresaFuncionario.pessoa)):(o.buscaPcmso(o.buscaCargos(o.$refs.modalPeriodico.show())),o.funcionarios=[],o.funcionarios.push(o.solicitacao.empresaFuncionario))}))}))},dataDiff:function(a,o){var t=Vue.moment(a,"YYYY-MM-DD"),e=Vue.moment(o,"YYYY-MM-DD");return Vue.moment.duration(e.diff(t)).asDays()},buscaCpfPeriodico:function(){var a=this;this.carregar("Buscando pessoa...");var o=this.solicitacoes.filter((function(o){return o.empresaFuncionario.pessoa.cpf==a.cpf.replace(/\D/g,"")&&o.empresaFuncionario.empresaContrato.empresa.idEmpresa==a.empresa.idEmpresa&&o.tipoAtestado==a.solicitacao.tipoAtestado}));if(o.length>0&&this.dataDiff(o[0].data,this.solicitacao.data)<=30){if(console.log(this.dataDiff(o[0].data,this.solicitacao.data)),a.carregando=!1,"ADMISSIONAL"==a.solicitacao.tipoAtestado)var t="Essa pessoa já tem uma solicitação admissional de menos de 30 dias.";else if("PERIÓDIOCO"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação periodica de menos de 30 dias.";else if("MONITORAÇÃO_PONTUAL"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação de monitoração pontual de menos de 30 dias.";else if("DEMISSIONAL"==a.solicitacao.tipoAtestado)t="Essa pessoa já tem uma solicitação de exame demissional de menos de 30 dias.";var e={title:"Atenção!",text:t,type:"warning",showCancelButton:!0,confirmButtonText:"Editar",cancelButtonText:"Sair",animation:!1};this.$fire(e).then((function(t){1==t.value&&a.editar(o[0])}))}else{var s=this.funcionarios.filter((function(o){return o.pessoa.cpf==a.cpf.replace(/\D/g,"")}));0==s.length?axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/pessoas/semVinculoEmpregaticioPorIdEmpresa/"+a.empresa.idEmpresa).then((function(o){0==o.data.filter((function(o){return o.cpf==a.cpf.replace(/\D/g,"")})).length?(a.carregando=!1,a.$alert("Não há ninguem com esse CPF.","Atenção!","error")):(a.carregando=!1,a.$alert("Essa pessoa não está contratada.","Atenção!","error"))})):(a.carregando=!1,this.solicitacao.empresaFuncionario=s[0],this.mudouPessoa())}},buscaCpf:function(){var a=this;this.carregar("Buscando pessoa...");if((0).length>0){a.carregando=!1;this.$fire({title:"Atenção!",text:"Essa pessoa já tem uma solicitação admissional de menos de 90 dias.",type:"warning",showCancelButton:!0,confirmButtonText:"Editar",cancelButtonText:"Sair",animation:!1}).then((function(o){1==o.value&&a.editar((0)[0])}))}else{var o=this.pessoas.filter((function(o){return o.cpf==a.cpf.replace(/\D/g,"")}));console.log(o),0==o.length?"ADMISSIONAL"==this.solicitacao.tipoAtestado?axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/pessoas/comVinculoEmpregaticioPorIdEmpresa/"+a.empresa.idEmpresa).then((function(o){0==o.data.filter((function(o){return o.cpf==a.cpf.replace(/\D/g,"")})).length?(a.carregando=!1,a.$alert("Não há ninguem com esse CPF.","Atenção!","error")):(a.carregando=!1,a.$alert("Essa pessoa já está contratada.","Atenção!","error"))})):axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/pessoas/semVinculoEmpregaticioPorIdEmpresa/"+a.empresa.idEmpresa).then((function(o){0==o.data.filter((function(o){return o.cpf==a.cpf.replace(/\D/g,"")})).length?(a.carregando=!1,a.$alert("Não há ninguem com esse CPF.","Atenção!","error")):(a.carregando=!1,a.$alert("Essa pessoa não é um funcionário ativo.","Atenção!","error"))})):(a.carregando=!1,this.solicitacao.empresaFuncionario.pessoa=o[0])}},buscaPcmso:function(){var a=this;this.solicitacao.data&&this.solicitacao.empresaFuncionario.empresaContrato.idEmpresaContrato&&(this.carregar("Buscando PCMSO..."),axios.post("/pcmso/ultimo",{empresa:this.empresa.idEmpresa,contrato:this.solicitacao.empresaFuncionario.empresaContrato.idEmpresaContrato,data:this.solicitacao.data}).then((function(o){setTimeout((function(){""!=o.data?(a.mensagem="Pronto. Buscando ambientes...",a.solicitacao.pcmso=o.data,axios.get("/pcmso/ambientes/"+o.data.idPcmso+"/list?ambientes=true").then((function(o){a.ambientes=o.data,console.log(a.ambientes),a.mensagem="Ok. Buscando o médico coordenador...",axios.get("/pcmso/"+a.solicitacao.pcmso.idPcmso+"/revisao-historico").then((function(o){console.log(o),a.solicitacao.medicoCoordenador=o.data[0].empresaProfissional,a.carregando=!1}))}))):(a.carregando=!1,a.$alert("Não há PCMSO nesta data e com este contrato.","Atenção!","error"))}),500)})))},buscaCargos:function(){var a=this;this.carregar("Buscando cargos..."),axios.get("/pcmso/ambiente/"+this.solicitacao.empresaFuncionario.ambienteTrabalho.idPcmsoAmbienteTrabalho+"/funcoes/list").then((function(o){a.funcoes=o.data,a.carregando=!1}))},salvarAdmissional:function(){this.carregar("Buscando exames...");var a=this;axios.post("/solicitacao-exames",{solicitacao:this.solicitacao}).then((function(o){console.log(o.data),a.carregando=!1,"false"!=o.data.status?(a.solicitacao=o.data,"ADMISSIONAL"!=a.solicitacao.tipoAtestado&&(a.funcionarios=[],a.funcionarios.push(a.solicitacao.empresaFuncionario))):a.$alert("Erro. Verifique os dados!","Ops!","error")}))},selecionar:function(a){if(this.estaSelecionado(a)){var o=this.selecionados.findIndex((function(o){return o.idExame==a.idExame}));this.selecionados.splice(o,1)}else this.selecionados.push(a)},salvar:function(a){this.carregar("Salvando.."),a.preventDefault();var o=this;axios.post("/solicitacao-exames/update",{solicitacao:this.solicitacao}).then((function(a){console.log(a.data),o.carregando=!1,"false"!=a.data.status?o.solicitacao=a.data:o.$alert("Erro. Verifique os dados!","Ops!","error")}))},chunk:function(a,o){for(var t=[],e=0;e<a.length;e++){var s=t[t.length-1];s&&s.length!==o?s.push(a[e]):t.push([a[e]])}return t}},mounted:function(){var a=this;axios.get("http://34.69.79.135:8080/ServicoSIGSSO/rest/solicitacoes").then((function(o){a.solicitacoes=o.data,console.log(a.solicitacoes)}))}},s=(t(301),t(0)),i=Object(s.a)(e,(function(){var a=this,o=a.$createElement,t=a._self._c||o;return t("section",{staticClass:"content"},[a.carregando?t("BlockUI",{attrs:{message:a.mensagem,html:a.html}}):a._e(),a._v(" "),t("div",{staticClass:"col-md-6 pl-0 mb-3"},[t("div",{staticClass:"btn-group"},[a._m(0),a._v(" "),t("div",{staticClass:"dropdown-menu"},[t("a",{staticClass:"dropdown-item",on:{click:a.modalAdmissional}},[a._v("Admissional")]),a._v(" "),t("a",{staticClass:"dropdown-item",on:{click:function(o){return a.modalPeriodico("PERIÓDICO")}}},[a._v("Periódico")]),a._v(" "),t("a",{staticClass:"dropdown-item",on:{click:function(o){return a.modalPeriodico("MONITORAÇÃO_PONTUAL")}}},[a._v("Monitoramento Pontual")]),a._v(" "),t("a",{staticClass:"dropdown-item",on:{click:function(o){return a.modalPeriodico("MUDANÇA_RISCO")}}},[a._v("Mudança de Função")]),a._v(" "),t("a",{staticClass:"dropdown-item",on:{click:function(o){return a.modalPeriodico("DEMISSIONAL")}}},[a._v("Demissional")]),a._v(" "),t("a",{staticClass:"dropdown-item",on:{click:function(o){return a.modalPeriodico("RETORNO_TRABALHO")}}},[a._v("Retorno ao Trabalho")])])])]),a._v(" "),t("div",{staticClass:"box box-default"},[t("div",{staticClass:"box-body table-responsive"},[t("table",{staticClass:"table table-hover table-striped"},[a._m(1),a._v(" "),t("tbody",a._l(a.solicitacoes,(function(o){return o.empresaFuncionario.empresaContrato.empresa.idEmpresa==a.empresa.idEmpresa?t("tr",[t("td",[a._v(a._s(o.idAsoSolicitacao))]),a._v(" "),t("td",[a._v(a._s(a._f("moment")(o.data,"DD/MM/YYYY")))]),a._v(" "),t("td",[a._v(a._s(o.tipoAtestado))]),a._v(" "),t("td",[a._v(a._s(o.empresaFuncionario.matricula))]),a._v(" "),t("td",[a._v(a._s(o.empresaFuncionario.pessoa.nomePessoa))]),a._v(" "),t("td",[a._v(a._s(o.empresaFuncionario.funcao.cargo))]),a._v(" "),t("td",[a._v(a._s(o.empresaFuncionario.ambienteTrabalho.nomeAmbienteTrabalho))]),a._v(" "),t("td",[t("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(t){return a.relatorio(o)}}},[a._v("Relatório")]),a._v(" "),t("button",{staticClass:"btn btn-outline-success btn-sm",on:{click:function(t){return a.editar(o)}}},[t("i",{staticClass:"fas fa-pencil-alt"})]),a._v(" "),a._m(2,!0)])]):a._e()})),0)])])]),a._v(" "),t("b-modal",{ref:"modalAdmissional",attrs:{"ok-title":"Salvar","cancel-title":"Cancelar",size:"xl",title:"Solicitação de Exame",centered:"",id:"modalAdmissional"},on:{ok:a.salvar},scopedSlots:a._u([{key:"modal-header",fn:function(o){var e=o.close;return[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Fechar"},on:{click:function(a){return e()}}},[t("span",{attrs:{"aria-hidden":"true"}},[a._v("×")])]),a._v(" "),t("div",{staticClass:"row d-flex"},[t("div",{staticClass:"col-md-12 mb-3 justify-content-center align-self-center"},[t("h5",[a._v("Solicitação de Exame Admissional")])]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Data")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.data,expression:"solicitacao.data"}],staticClass:"form-control",attrs:{type:"date",id:""},domProps:{value:a.solicitacao.data},on:{change:a.buscaPcmso,input:function(o){o.target.composing||a.$set(a.solicitacao,"data",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-4 mt-4"},[t("div",{staticClass:"input-group"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[a._v("Tipo")])]),a._v(" "),t("select",{staticClass:"form-control",attrs:{name:"",disabled:""}},[t("option",{attrs:{value:"",selected:""}},[a._v("Admissional")])])])]),a._v(" "),t("div",{staticClass:"col-md-5 mt-4"},[t("div",{staticClass:"input-group"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[a._v("Pesquisar por CPF")])]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.cpf,expression:"cpf"},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{disabled:a.solicitacao.idAsoSolicitacao>0,type:"text","aria-describedby":"basic-addon2"},domProps:{value:a.cpf},on:{input:function(o){o.target.composing||(a.cpf=o.target.value)}}}),a._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(o){return a.buscaCpf()}}},[t("i",{staticClass:"fa fa-search"})])])])]),a._v(" "),t("div",{staticClass:"col-md-1"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("ID")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.idAsoSolicitacao,expression:"solicitacao.idAsoSolicitacao"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.idAsoSolicitacao},on:{input:function(o){o.target.composing||a.$set(a.solicitacao,"idAsoSolicitacao",o.target.value)}}})])])])]}},{key:"modal-footer",fn:function(o){var e=o.ok,s=o.cancel;o.hide;return[t("div",{staticClass:"alert alert-warning mb-0 text-center"},[t("strong",[a._v("Importante!")]),a._v(" Os exames em destaque (marcados com esta cor) ainda não estão salvos. Para salvar, clique no botão "),t("i",[a._v('"Salvar"')]),a._v(" ao lado.\n                "),t("i",{staticClass:"fas fa-arrow-right"})]),a._v(" "),t("b-button",{attrs:{disabled:0==a.solicitacao.idAsoSolicitacao,variant:"success"},on:{click:function(a){return e()}}},[a._v("\n                Salvar\n            ")]),a._v(" "),t("b-button",{attrs:{variant:"danger"},on:{click:function(a){return s()}}},[a._v("\n                Fechar\n            ")])]}}])},[a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-5"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Pessoa")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.pessoa,expression:"solicitacao.empresaFuncionario.pessoa"}],staticClass:"form-control",attrs:{disabled:""},on:{change:function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao.empresaFuncionario,"pessoa",o.target.multiple?t:t[0])}}},a._l(a.pessoas,(function(o){return t("option",{domProps:{value:o}},[a._v(a._s(o.nomePessoa))])})),0)])]),a._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("CPF")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.pessoa.cpf,expression:"solicitacao.empresaFuncionario.pessoa.cpf"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.pessoa.cpf},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.pessoa,"cpf",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Matricula")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.matricula,expression:"solicitacao.empresaFuncionario.matricula"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.matricula},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario,"matricula",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("ID")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.pessoa.idPessoa,expression:"solicitacao.empresaFuncionario.pessoa.idPessoa"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.pessoa.idPessoa},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.pessoa,"idPessoa",o.target.value)}}})])])]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Contrato")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.empresaContrato,expression:"solicitacao.empresaFuncionario.empresaContrato"}],staticClass:"form-control",on:{change:[function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao.empresaFuncionario,"empresaContrato",o.target.multiple?t:t[0])},a.buscaPcmso]}},a._l(a.contratos,(function(o){return t("option",{domProps:{value:o}},[a._v("\n                            "+a._s(o.empresaContratante.nomeFantasia)+"\n                        ")])})),0)])]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Ambiente de Trabalho")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.ambienteTrabalho,expression:"solicitacao.empresaFuncionario.ambienteTrabalho"}],staticClass:"form-control",attrs:{disabled:0==a.ambientes.length},on:{change:[function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao.empresaFuncionario,"ambienteTrabalho",o.target.multiple?t:t[0])},a.buscaCargos]}},[0==a.ambientes.length?t("option",{attrs:{disabled:"",selected:""},domProps:{value:{}}},[a._v(" ---- SELECIONE PRIMEIRO UM CONTRATO ---- ")]):a._e(),a._v(" "),a._l(a.ambientes,(function(o){return t("option",{domProps:{value:o}},[a._v("\n                            "+a._s(o.idOrigem)+" -\n                            "+a._s(o.nomeAmbienteTrabalho))])}))],2)])]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Cargo")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.funcao,expression:"solicitacao.empresaFuncionario.funcao"}],staticClass:"form-control",attrs:{disabled:0==a.funcoes.length},on:{change:function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao.empresaFuncionario,"funcao",o.target.multiple?t:t[0])}}},[0==a.funcoes.length?t("option",{attrs:{disabled:"",selected:""},domProps:{value:{}}},[a._v(" ---- SELECIONE PRIMEIRO UM AMBIENTE ---- ")]):a._e(),a._v(" "),a._l(a.funcoes,(function(o){return t("option",{domProps:{value:o}},[a._v(a._s(o.cargo)+"\n                        ")])}))],2)])])]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mt-1 mb-2 text-right"},[0==a.solicitacao.idAsoSolicitacao?t("button",{staticClass:"btn btn-warning",on:{click:a.salvarAdmissional}},[a._v("Buscar Exames")]):a._e(),a._v(" "),0==a.solicitacao.asoSolicitacaoExames.length&&0!=a.solicitacao.idAsoSolicitacao?t("button",{staticClass:"btn btn-warning",on:{click:a.buscarExames}},[a._v("Buscar Exames")]):a._e()])]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mt-0 mb-1 text-center"},[t("h5",{staticClass:"bg-success p-2 text-light"},[a._v("Exames")])])]),a._v(" "),0==a.solicitacao.idAsoSolicitacao?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"alert alert-warning text-center"},[t("strong",[a._v("Espere...")]),a._v(" "),t("p",[a._v(" Esta é uma solicitação admissional. Você precisa armazena-la primeiro para poder visualizar os exames. ")]),a._v(" "),t("p",[a._v('Clique no botão "Buscar Exames" '),t("strong",[a._v("após preencher todos os dados acima")]),a._v(" para armazenar os dados e buscar os exames")])])])]):a._e(),a._v(" "),0==a.solicitacao.asoSolicitacaoExames.length&&0!=a.solicitacao.idAsoSolicitacao?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"alert alert-warning text-center"},[t("strong",[a._v("Ainda não há exames....")]),a._v(" "),t("p",[a._v('Deseja utilizar o método de busca de exames? Clique no botão "Buscar Exames".')])])])]):a._e(),a._v(" "),a.solicitacao.asoSolicitacaoExames.length>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[a._l(a.solicitacao.asoSolicitacaoExames,(function(o){return t("div",{staticClass:"col-md-4 mt-3"},[0==o.idAsoSolicitacaoExame?t("input",{directives:[{name:"model",rawName:"v-model",value:o.detalhes.nomeExame,expression:"exame.detalhes.nomeExame"}],staticClass:"form-control",class:{"input-warning":0==o.idAsoSolicitacaoExame},attrs:{type:"text",disabled:""},domProps:{value:o.detalhes.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.detalhes,"nomeExame",t.target.value)}}}):a._e(),a._v(" "),0!=o.idAsoSolicitacaoExame?t("input",{directives:[{name:"model",rawName:"v-model",value:o.pcmsoAmbienteExame.exame.nomeExame,expression:"exame.pcmsoAmbienteExame.exame.nomeExame"}],staticClass:"form-control",class:{"input-warning":0==o.idAsoSolicitacaoExame},attrs:{type:"text",disabled:""},domProps:{value:o.pcmsoAmbienteExame.exame.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.pcmsoAmbienteExame.exame,"nomeExame",t.target.value)}}}):a._e()])})),a._v(" "),a._l(a.solicitacao.asoSolicitacaoExameAvulso,(function(o){return t("div",{staticClass:"col-md-4 mt-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.exame.nomeExame,expression:"exame.exame.nomeExame"}],staticClass:"form-control",class:{"input-warning":0==o.idAsoSolicitacaoExameAvulso},attrs:{type:"text",disabled:""},domProps:{value:o.exame.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.exame,"nomeExame",t.target.value)}}})])}))],2)]),a._v(" "),t("div",{staticClass:"col-md-12 text-right mt-3 mb-3"},[t("button",{staticClass:"btn btn-warning",on:{click:a.adicionar}},[a._v("Exames Extras")])])]):a._e(),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[a.solicitacao.medicoCoordenador?a._e():t("input",{staticClass:"form-control",attrs:{type:"text",disabled:""}}),a._v(" "),a.solicitacao.medicoCoordenador?t("div",{staticClass:"alert alert-dark p-2 text-center w-100"},[a._v(" Médico Responsável pelo PCMSO V "+a._s(a.solicitacao.pcmso.versao)+" de "+a._s(a._f("moment")(a.solicitacao.pcmso.dataHora,"DD/MM/YYYY"))+" Dr. "+a._s(a.solicitacao.medicoCoordenador.pessoa.nomePessoa)+" - CRM/"+a._s(a.solicitacao.medicoCoordenador.uf)+" "+a._s(a.solicitacao.medicoCoordenador.numeroRegistro)+" ")]):a._e()])])]),a._v(" "),t("b-modal",{ref:"modalExames",attrs:{size:"xl",centered:"","no-close-on-backdrop":!0,"hide-header-close":!0,"no-close-on-esc":!0,title:"Selecione os exames","ok-title":"Salvar","cancel-title":"Cancelar",id:"modal1"},on:{ok:a.salvarExames,cancel:function(o){return a.fechar()}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mb-3 text-left"},[a._v("\n                Total de exames selecionados: "+a._s(a.selecionados.length)+"\n            ")]),a._v(" "),t("div",{staticClass:"col-md-12"},[t("table",{staticClass:"table table-hover"},[t("thead",[t("th",[a._v("ID")]),a._v(" "),t("th",[a._v("Nome")]),a._v(" "),t("th",[a._v("Descrição")]),a._v(" "),t("th",[a._v("Unidade")]),a._v(" "),t("th",[a._v("Sexo")]),a._v(" "),t("th",[a._v("Grupo")]),a._v(" "),t("th",{staticStyle:{width:"90px"}},[a._v("Tabela 27")])]),a._v(" "),t("tbody",a._l(a.exames,(function(o,e){return a.estaAdicionado(o)?a._e():t("tr",{staticClass:"selecionar",class:{selecionado:a.estaSelecionado(o)},on:{click:function(t){return a.selecionar(o)}}},[t("td",[a._v(a._s(o.idExame))]),a._v(" "),t("td",[a._v(a._s(o.nomeExame))]),a._v(" "),t("td",[a._v(a._s(o.descricao))]),a._v(" "),t("td",[a._v(a._s(o.unidadeMedida))]),a._v(" "),t("td",[a._v(a._s(o.sexo))]),a._v(" "),t("td",[a._v(a._s(o.grupoExame))]),a._v(" "),t("td",[a._v(a._s(o.tabela27))])])})),0)])])])]),a._v(" "),t("b-modal",{ref:"modalPeriodico",attrs:{"ok-title":"Salvar","cancel-title":"Cancelar",size:"xl",title:"Solicitação de Exame",centered:"",id:"modalPeriodico"},on:{ok:a.salvar},scopedSlots:a._u([{key:"modal-header",fn:function(o){var e=o.close;return[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Fechar"},on:{click:function(a){return e()}}},[t("span",{attrs:{"aria-hidden":"true"}},[a._v("×")])]),a._v(" "),t("div",{staticClass:"row d-flex"},[t("div",{staticClass:"col-md-12 mb-3 justify-content-center align-self-center"},["PERIÓDICO"==a.solicitacao.tipoAtestado?t("h5",[a._v("Solicitação de Exame Periódico")]):a._e(),a._v(" "),"MONITORAÇÃO_PONTUAL"==a.solicitacao.tipoAtestado?t("h5",[a._v("Solicitação de Exame para Monitoramento Pontual")]):a._e(),a._v(" "),"MUDANÇA_RISCO"==a.solicitacao.tipoAtestado?t("h5",[a._v("Solicitação de Exame para Mudança de Função")]):a._e(),a._v(" "),"DEMISSIONAL"==a.solicitacao.tipoAtestado?t("h5",[a._v("Solicitação de Exame Demissional")]):a._e(),a._v(" "),"RETORNO_TRABALHO"==a.solicitacao.tipoAtestado?t("h5",[a._v("Solicitação de Exame para Retorno ao Trabalho")]):a._e()]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Data")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.data,expression:"solicitacao.data"}],staticClass:"form-control",attrs:{type:"date",id:""},domProps:{value:a.solicitacao.data},on:{change:a.buscaPcmso,input:function(o){o.target.composing||a.$set(a.solicitacao,"data",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-4 mt-4"},[t("div",{staticClass:"input-group"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[a._v("Tipo")])]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.tipoAtestado,expression:"solicitacao.tipoAtestado"}],staticClass:"form-control",attrs:{disabled:""},on:{change:function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao,"tipoAtestado",o.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"PERIÓDICO",selected:""}},[a._v("Periódico")]),a._v(" "),t("option",{attrs:{value:"MONITORAÇÃO_PONTUAL",selected:""}},[a._v("Monitoramento Pontual")]),a._v(" "),t("option",{attrs:{value:"MUDANÇA_RISCO",selected:""}},[a._v("Mudança de Função")]),a._v(" "),t("option",{attrs:{value:"DEMISSIONAL",selected:""}},[a._v("Demissional")]),a._v(" "),t("option",{attrs:{value:"RETORNO_TRABALHO",selected:""}},[a._v("Retorno ao Trabalho")])])])]),a._v(" "),t("div",{staticClass:"col-md-5 mt-4"},[t("div",{staticClass:"input-group"},[t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[a._v("Pesquisar por CPF")])]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.cpf,expression:"cpf"},{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],staticClass:"form-control",attrs:{disabled:a.solicitacao.idAsoSolicitacao>0,type:"text","aria-describedby":"basic-addon2"},domProps:{value:a.cpf},on:{input:function(o){o.target.composing||(a.cpf=o.target.value)}}}),a._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(o){return a.buscaCpfPeriodico()}}},[t("i",{staticClass:"fa fa-search"})])])])]),a._v(" "),t("div",{staticClass:"col-md-1"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("ID")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.idAsoSolicitacao,expression:"solicitacao.idAsoSolicitacao"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.idAsoSolicitacao},on:{input:function(o){o.target.composing||a.$set(a.solicitacao,"idAsoSolicitacao",o.target.value)}}})])])])]}},{key:"modal-footer",fn:function(o){var e=o.ok,s=o.cancel;o.hide;return[t("div",{staticClass:"alert alert-warning mb-0 text-center"},[t("strong",[a._v("Importante!")]),a._v(" Os exames em destaque (marcados com esta cor) ainda não estão salvos. Para salvar, clique no botão "),t("i",[a._v('"Salvar"')]),a._v(" ao lado.\n                "),t("i",{staticClass:"fas fa-arrow-right"})]),a._v(" "),t("b-button",{attrs:{disabled:0==a.solicitacao.idAsoSolicitacao,variant:"success"},on:{click:function(a){return e()}}},[a._v("\n                Salvar\n            ")]),a._v(" "),t("b-button",{attrs:{variant:"danger"},on:{click:function(a){return s()}}},[a._v("\n                Fechar\n            ")])]}}])},[a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-5"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Pessoa")]),a._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario,expression:"solicitacao.empresaFuncionario"}],staticClass:"form-control",attrs:{disabled:a.solicitacao.idAsoSolicitacao>0},on:{change:[function(o){var t=Array.prototype.filter.call(o.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.solicitacao,"empresaFuncionario",o.target.multiple?t:t[0])},a.mudouPessoa]}},a._l(a.funcionarios,(function(o){return t("option",{domProps:{value:o}},[a._v(a._s(o.pessoa.nomePessoa))])})),0)])]),a._v(" "),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("CPF")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.pessoa.cpf,expression:"solicitacao.empresaFuncionario.pessoa.cpf"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.pessoa.cpf},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.pessoa,"cpf",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Matricula")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.matricula,expression:"solicitacao.empresaFuncionario.matricula"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.matricula},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario,"matricula",o.target.value)}}})])]),a._v(" "),t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("ID")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.pessoa.idPessoa,expression:"solicitacao.empresaFuncionario.pessoa.idPessoa"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.pessoa.idPessoa},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.pessoa,"idPessoa",o.target.value)}}})])])]),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Contrato")]),a._v(" "),a.solicitacao.empresaFuncionario.empresaContrato.empresaContratante?t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.empresaContrato.empresaContratante.nomeFantasia,expression:"solicitacao.empresaFuncionario.empresaContrato.empresaContratante.nomeFantasia"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.empresaContrato.empresaContratante.nomeFantasia},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.empresaContrato.empresaContratante,"nomeFantasia",o.target.value)}}}):a._e()])]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Ambiente de Trabalho")]),a._v(" "),a.solicitacao.empresaFuncionario.ambienteTrabalho?t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.ambienteTrabalho.idOrigem+" - "+a.solicitacao.empresaFuncionario.ambienteTrabalho.nomeAmbienteTrabalho,expression:"solicitacao.empresaFuncionario.ambienteTrabalho.idOrigem + ' - ' + solicitacao.empresaFuncionario.ambienteTrabalho.nomeAmbienteTrabalho"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.ambienteTrabalho.idOrigem+" - "+a.solicitacao.empresaFuncionario.ambienteTrabalho.nomeAmbienteTrabalho},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.ambienteTrabalho.idOrigem+" - "+a.solicitacao.empresaFuncionario.ambienteTrabalho,"nomeAmbienteTrabalho",o.target.value)}}}):a._e()])]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Cargo")]),a._v(" "),a.solicitacao.empresaFuncionario.funcao?t("input",{directives:[{name:"model",rawName:"v-model",value:a.solicitacao.empresaFuncionario.funcao.cargo,expression:"solicitacao.empresaFuncionario.funcao.cargo"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.solicitacao.empresaFuncionario.funcao.cargo},on:{input:function(o){o.target.composing||a.$set(a.solicitacao.empresaFuncionario.funcao,"cargo",o.target.value)}}}):a._e()])])]),a._v(" "),"MONITORAÇÃO_PONTUAL"!=a.solicitacao.tipoAtestado?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mt-1 mb-2 text-right"},[0==a.solicitacao.idAsoSolicitacao?t("button",{staticClass:"btn btn-warning",on:{click:a.salvarAdmissional}},[a._v("Buscar Exames")]):a._e(),a._v(" "),0==a.solicitacao.asoSolicitacaoExames.length&&0!=a.solicitacao.idAsoSolicitacao?t("button",{staticClass:"btn btn-warning",on:{click:a.buscarExames}},[a._v("Buscar Exames")]):a._e()])]):a._e(),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mt-0 mb-1 text-center"},[t("h5",{staticClass:"bg-success p-2 text-light"},[a._v("Exames")])])]),a._v(" "),0==a.solicitacao.idAsoSolicitacao&&"MONITORAÇÃO_PONTUAL"!=a.solicitacao.tipoAtestado?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"alert alert-warning text-center"},[t("strong",[a._v("Espere...")]),a._v(" "),t("p",[a._v(" Esta é uma solicitação admissional. Você precisa armazena-la primeiro para poder visualizar os exames. ")]),a._v(" "),t("p",[a._v('Clique no botão "Buscar Exames" '),t("strong",[a._v("após preencher todos os dados acima")]),a._v(" para armazenar os dados e buscar os exames")])])])]):a._e(),a._v(" "),0==a.solicitacao.asoSolicitacaoExames.length&&0!=a.solicitacao.idAsoSolicitacao&&"MONITORAÇÃO_PONTUAL"!=a.solicitacao.tipoAtestado?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"alert alert-warning text-center"},[t("strong",[a._v("Ainda não há exames....")]),a._v(" "),t("p",[a._v('Deseja utilizar o método de busca de exames? Clique no botão "Buscar Exames".')])])])]):a._e(),a._v(" "),0==a.solicitacao.asoSolicitacaoExameAvulso.length&&"MONITORAÇÃO_PONTUAL"==a.solicitacao.tipoAtestado?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"alert alert-warning text-center"},[t("strong",[a._v("Ainda não há exames...")]),a._v(" "),t("br"),a._v(" "),t("button",{staticClass:"btn btn-warning",on:{click:a.adicionarMonitoramento}},[a._v("Exames Extras")])])])]):a._e(),a._v(" "),a.solicitacao.asoSolicitacaoExames.length>0||a.solicitacao.asoSolicitacaoExameAvulso.length>0?t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"row"},[a._l(a.solicitacao.asoSolicitacaoExames,(function(o){return t("div",{staticClass:"col-md-4"},[0==o.idAsoSolicitacaoExame?t("input",{directives:[{name:"model",rawName:"v-model",value:o.detalhes.nomeExame,expression:"exame.detalhes.nomeExame"}],staticClass:"form-control mt-2",class:{"input-warning":0==o.idAsoSolicitacaoExame},attrs:{disabled:""},domProps:{value:o.detalhes.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.detalhes,"nomeExame",t.target.value)}}}):a._e(),a._v(" "),0!=o.idAsoSolicitacaoExame?t("input",{directives:[{name:"model",rawName:"v-model",value:o.pcmsoAmbienteExame.exame.nomeExame,expression:"exame.pcmsoAmbienteExame.exame.nomeExame"}],staticClass:"form-control mt-2",class:{"input-warning":0==o.idAsoSolicitacaoExame},attrs:{disabled:""},domProps:{value:o.pcmsoAmbienteExame.exame.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.pcmsoAmbienteExame.exame,"nomeExame",t.target.value)}}}):a._e()])})),a._v(" "),a._l(a.solicitacao.asoSolicitacaoExameAvulso,(function(o){return t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:o.exame.nomeExame,expression:"exame.exame.nomeExame"}],staticClass:"form-control mt-2",class:{"input-warning":0==o.idAsoSolicitacaoExameAvulso},attrs:{type:"text",disabled:""},domProps:{value:o.exame.nomeExame},on:{input:function(t){t.target.composing||a.$set(o.exame,"nomeExame",t.target.value)}}})])}))],2)]),a._v(" "),t("div",{staticClass:"col-md-12 text-right mb-3 mt-3"},[t("button",{staticClass:"btn btn-warning",on:{click:a.adicionar}},[a._v("Exames Extras")])])]):a._e(),a._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[a.solicitacao.medicoCoordenador?a._e():t("input",{staticClass:"form-control",attrs:{type:"text",disabled:""}}),a._v(" "),a.solicitacao.medicoCoordenador?t("div",{staticClass:"alert alert-dark p-2 text-center w-100"},[a._v(" Médico Responsável pelo PCMSO V "+a._s(a.solicitacao.pcmso.versao)+" de "+a._s(a._f("moment")(a.solicitacao.pcmso.dataHora,"DD/MM/YYYY"))+" Dr. "+a._s(a.solicitacao.medicoCoordenador.pessoa.nomePessoa)+" - CRM/"+a._s(a.solicitacao.medicoCoordenador.uf)+" "+a._s(a.solicitacao.medicoCoordenador.numeroRegistro)+" ")]):a._e()])])])],1)}),[function(){var a=this.$createElement,o=this._self._c||a;return o("button",{staticClass:"btn btn-success dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[o("i",{staticClass:"fa fa-plus"}),this._v(" Adicionar Solicitação\n            ")])},function(){var a=this,o=a.$createElement,t=a._self._c||o;return t("thead",[t("tr",[t("th",[a._v("ID Soli.")]),a._v(" "),t("th",[a._v("Data")]),a._v(" "),t("th",[a._v("Tipo")]),a._v(" "),t("th",[a._v("Matrícula")]),a._v(" "),t("th",[a._v("Nome")]),a._v(" "),t("th",[a._v("Cargo")]),a._v(" "),t("th",[a._v("Ambiente")]),a._v(" "),t("th",{staticStyle:{width:"170px"}},[a._v("Ação")])])])},function(){var a=this.$createElement,o=this._self._c||a;return o("button",{staticClass:"btn btn-outline-danger btn-sm"},[o("i",{staticClass:"fas fa-trash"})])}],!1,null,"6ad4ce48",null);o.default=i.exports}}]);
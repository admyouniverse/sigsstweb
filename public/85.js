(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{164:function(t,i,e){"use strict";function a(t,i,e,a,o,s,r,n){var c,l="function"==typeof t?t.options:t;if(i&&(l.render=i,l.staticRenderFns=e,l._compiled=!0),a&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=n?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,i){return c.call(i),d(t,i)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:l}}e.d(i,"a",(function(){return a}))},67:function(t,i,e){"use strict";e.r(i);var a={data:function(){return{idTabela:"#tabelaListagem",carregando:!0,mensagem:"Carregando itens cadastrados",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',matrizes:[],termo:"",selecionado:"codigo",montou:!1,coluna:"",eixosX:[],eixosY:[],matriz:{idMatrizRisco:0,descricao:"",eixoX:{},eixoY:{},criterio:"SOMA"}}},methods:{voltar:function(){},pesquisar:function(){},salvar:function(){var t=this;axios.post("/matriz",{matriz:t.matriz}).then((function(i){t.matriz=i.data,t.$root.$emit("montou",[t.idTabela])}))},fechar:function(){this.$root.$emit("montou",[this.idTabela])},editar:function(t){this.matriz=t,this.$refs.myModal.show(),$(this.idTabela).DataTable().destroy()},abrir:function(){this.matriz={idMatrizRisco:0,descricao:"",eixoX:{},eixoY:{}},$(this.idTabela).DataTable().destroy(),this.$refs.myModal.show()},ir:function(t){window.location.href="/matriz/m/"+t.idMatrizRisco}},mounted:function(){var t=this;axios.get("/matriz/list").then((function(i){t.matrizes=i.data,t.montou=!0,setTimeout((function(){t.carregando=!1,t.$root.$emit("montou",[t.idTabela])}),200)})),axios.get("/eixo-y/list").then((function(i){t.eixosY=i.data})),axios.get("/eixo-x/list").then((function(i){t.eixosX=i.data}))}},o=e(164),s=Object(o.a)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"container"},[t._m(0),t._v(" "),e("section",{staticClass:"content"},[t.carregando?e("BlockUI",{attrs:{message:t.mensagem,html:t.html}}):t._e(),t._v(" "),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px","margin-top":"10px"}},[e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:function(i){return t.abrir()}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Incluir")])])])],1),t._v(" "),t.montou?e("div",{staticClass:"box box-info"},[e("div",{staticClass:"box-body table-responsive"},[e("table",{staticClass:"table table-hover table-striped",attrs:{id:"tabelaListagem"}},[t._m(1),t._v(" "),e("tbody",t._l(t.matrizes,(function(i){return e("tr",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.ir(i)}}},[e("td",{staticStyle:{"vertical-align":"middle"},attrs:{width:"80px"}},[e("b",[t._v(t._s(i.idMatrizRisco))])]),t._v(" "),e("td",{staticStyle:{"text-align":"justify"}},[t._v(t._s(i.descricao))]),t._v(" "),e("td",[t._v(t._s(i.eixoX.descricao))]),t._v(" "),e("td",[t._v(t._s(i.eixoY.descricao))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return e.stopPropagation(),t.editar(i)}}},[e("i",{staticClass:"fas fa-pencil-alt"})])])])})),0)])])]):t._e(),t._v(" "),e("b-modal",{ref:"myModal",attrs:{size:"md",centered:"","no-close-on-backdrop":!0,"hide-header-close":!0,"no-close-on-esc":!0,title:"Matriz de Risco","ok-title":"Salvar","cancel-title":"Cancelar",id:"modal1"},on:{ok:t.salvar,cancel:function(i){return t.fechar()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("ID")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.matriz.idMatrizRisco,expression:"matriz.idMatrizRisco"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:t.matriz.idMatrizRisco},on:{input:function(i){i.target.composing||t.$set(t.matriz,"idMatrizRisco",i.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Descrição")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.matriz.descricao,expression:"matriz.descricao"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.matriz.descricao},on:{input:function(i){i.target.composing||t.$set(t.matriz,"descricao",i.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Eixo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.matriz.eixoX,expression:"matriz.eixoX"}],staticClass:"form-control",attrs:{id:""},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.matriz,"eixoX",i.target.multiple?e:e[0])}}},t._l(t.eixosX,(function(i){return e("option",{domProps:{value:i}},[t._v(t._s(i.descricao))])})),0)])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Eixo")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.matriz.eixoY,expression:"matriz.eixoY"}],staticClass:"form-control",attrs:{id:""},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.matriz,"eixoY",i.target.multiple?e:e[0])}}},t._l(t.eixosY,(function(i){return e("option",{domProps:{value:i}},[t._v(t._s(i.descricao))])})),0)])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Criterio")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.matriz.criterio,expression:"matriz.criterio"}],staticClass:"form-control",attrs:{id:""},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.matriz,"criterio",i.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"SOMA"}},[t._v("SOMA")]),t._v(" "),e("option",{attrs:{value:"MULTIPLICACAO"}},[t._v("MULTIPLICAÇÃO")])])])])])])],1)}),[function(){var t=this.$createElement,i=this._self._c||t;return i("section",{staticClass:"content-header"},[i("h1",[this._v("\n            Matrizes de Risco\n            "),i("small",[this._v("Listagem")])]),this._v(" "),i("ol",{staticClass:"breadcrumb"},[i("li",[i("a",{attrs:{href:"#"}},[i("i",{staticClass:"fa fa-home"}),this._v(" Início")])]),this._v(" "),i("li",[i("a",{attrs:{href:"#"}},[this._v("Matrizes de Risco")])])])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("thead",[e("tr",[e("th",[t._v("\n                            Código\n                           \n                        ")]),t._v(" "),e("th",[t._v("\n                            Descrição\n                            \n                        ")]),t._v(" "),e("th",[t._v("\n\t\t\t\t\t\t\tEixo X\n\t\t\t\t\t\t")]),t._v(" "),e("th",[t._v("\n\t\t\t\t\t\t\tEixo Y\n\t\t\t\t\t\t")]),t._v(" "),e("th")])])}],!1,null,null,null);i.default=s.exports}}]);
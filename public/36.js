(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{164:function(a,t,e){"use strict";function o(a,t,e,o,s,r,n,i){var d,c="function"==typeof a?a.options:a;if(t&&(c.render=t,c.staticRenderFns=e,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(d=function(a){(a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(a=__VUE_SSR_CONTEXT__),s&&s.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(n)},c._ssrRegister=d):s&&(d=i?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),d)if(c.functional){c._injectStyles=d;var l=c.render;c.render=function(a,t){return d.call(t),l(a,t)}}else{var v=c.beforeCreate;c.beforeCreate=v?[].concat(v,d):[d]}return{exports:a,options:c}}e.d(t,"a",(function(){return o}))},201:function(a,t,e){var o=e(307);"string"==typeof o&&(o=[[a.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e(133)(o,s);o.locals&&(a.exports=o.locals)},306:function(a,t,e){"use strict";e(201)},307:function(a,t,e){(a.exports=e(132)(!1)).push([a.i,"th {\n  font-weight: 400;\n  cursor: pointer;\n}\nth.selecionado {\n  font-weight: 800;\n}",""])},60:function(a,t,e){"use strict";e.r(t);var o={data:function(){return{jornadas:"",jornada:{idJornadaTrabalho:0,tipoJornada:"SELECIONE",descricao:"",entrada:"",saida:"",intervaloIni:"",intervaloFim:""},descricao:"",codigo:"",cbos:[],descricaorh:"",origem:"",idcbo:"",id:"",erro:!1,editar:!1,carregando:!0,mensagem:"Carregando funcões cadastrados",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',montou:!1,deletar:"",coluna:"",ordem:!0,termo:"",selecionado:"codigo",idTabela:"#tabelaListagem"}},methods:{carregar:function(a){this.mensagem=a,this.html='<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',this.carregando=!0},sucesso:function(a){this.mensagem=a,this.html='<i class="fa fa-check-circle fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),800)},alerta:function(a){this.mensagem=a,this.html='<i class="fa fa-close fa-2x fa-fw"></i>';var t=this;setTimeout((function(){t.carregando=!1}),1e3)},salvar:function(){this.carregar("Salvando nova função...");var a=this;axios.post("/empresas/jornadas-de-trabalho",{jornada:a.jornada}).then((function(t){"existente"==t.data?(a.codigo="",a.erro=!0,a.alerta("Código já existente, verifique!")):(a.jornadas=t.data,a.jornada={idJornadaTrabalho:0,tipoJornada:"SELECIONE",descricao:"",entrada:"",saida:"",intervaloIni:"",intervaloFim:""},a.erro=!1,a.$nextTick((function(){a.fechar(),a.sucesso("Salvo com sucesso!")})),a.sucesso("Salvo com sucesso!"))}))},atualizar:function(){var a=this;axios.post("/empresas/jornadas-de-trabalho/update/"+this.jornada.idJornadaTrabalho,{jornada:a.jornada}).then((function(t){"erro"==t.data?(a.codigo="",a.erro=!0):(a.jornadas=t.data,a.jornada={idJornadaTrabalho:0,tipoJornada:"SELECIONE",descricao:"",entrada:"",saida:"",intervaloIni:"",intervaloFim:""},a.erro=!1,a.$nextTick((function(){a.fechar(),a.sucesso("Atualizado com sucesso!")})))}))},abrir:function(){$(this.idTabela).DataTable().destroy(),this.$refs.myModal.show()},preencher:function(a){this.carregar("Carregando dados..."),this.jornada=a,this.editar=!0,this.abrir(),this.sucesso("Dados carregados!")},remover:function(a){this.deletar=a.idJornadaTrabalho,this.$refs.modalCerteza.show(),$(this.idTabela).DataTable().destroy()},ok:function(a){a.preventDefault(),this.editar?this.atualizar():this.salvar()},fechar:function(){this.$root.$emit("montou",[this.idTabela]),this.editar=!1,this.descricao="",this.codigo="",this.id="",this.$refs.myModal.hide()},fecharCerteza:function(){this.$root.$emit("montou",[this.idTabela]),this.$refs.modalCerteza.hide()},certeza:function(){this.carregar("Removendo função...");var a=this;axios.get("/empresas/jornadas-de-trabalho/remover/"+this.deletar).then((function(t){"erro"!=t.data?(a.jornadas=t.data,a.$nextTick((function(){a.fecharCerteza(),a.sucesso("Excluido com sucesso!")}))):a.$nextTick((function(){a.fecharCerteza(),a.alerta("Erro ao excluir!")}))}))}},mounted:function(){var a=this;axios.get("/empresas/jornadas-de-trabalho/list").then((function(t){a.jornadas=t.data,a.montou=!0,setTimeout((function(){a.$root.$emit("montou",[a.idTabela]),a.carregando=!1}),200)})),axios.get("/tabelas/cbo/list").then((function(t){a.cbos=t.data})),$("#myModal").on("hidden.bs.modal",(function(t){a.descricao="",a.codigo="",a.editar=!1,a.id=""}))}},s=(e(306),e(164)),r=Object(s.a)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",{staticClass:"content"},[a.carregando?e("BlockUI",{attrs:{message:a.mensagem,html:a.html}}):a._e(),a._v(" "),e("div",{staticClass:"row",staticStyle:{"margin-bottom":"15px","margin-top":"10px"}},[e("div",{staticClass:"col-md-6"},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{id:"modal",type:"button"},on:{click:a.abrir}},[e("i",{staticClass:"fa fa-plus"}),a._v(" Incluir")]),a._v(" "),a.montou?e("download-excel",{staticClass:"btn btn-sm btn-secondary",attrs:{data:this.jornadas,name:"jornadas.xls"}},[e("i",{staticClass:"far fa-save"}),a._v(" Exportar\n            ")]):a._e()],1)]),a._v(" "),a.montou?e("div",{staticClass:"box box-info"},[e("div",{staticClass:"box-body table-responsive"},[e("table",{staticClass:"table table-hover table-striped",attrs:{id:"tabelaListagem"}},[a._m(0),a._v(" "),e("tbody",a._l(a.jornadas,(function(t){return e("tr",[e("td",{staticStyle:{"vertical-align":"middle"},attrs:{width:"100px"}},[e("b",[a._v(a._s(t.idJornadaTrabalho))])]),a._v(" "),e("td",[a._v(a._s(t.descricao))]),a._v(" "),e("td",{staticStyle:{"text-align":"justify"}},[a._v(a._s(t.tipoJornada))]),a._v(" "),e("td",[a._v(a._s(t.entrada)+" - "+a._s(t.saida))]),a._v(" "),e("td",[a._v(a._s(t.intervaloIni)+" - "+a._s(t.intervaloFim))]),a._v(" "),e("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{width:"100px"}},[e("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return a.remover(t)}}},[e("i",{staticClass:"fa fa-trash"})]),a._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){return a.preencher(t)}}},[e("i",{staticClass:"fas fa-pencil-alt"})])])])})),0)])])]):a._e(),a._v(" "),e("b-modal",{ref:"myModal",attrs:{size:"xl",centered:"","no-close-on-backdrop":!0,"hide-header-close":!0,"no-close-on-esc":!0,title:"Detalhes da Jornada de Trabalho","ok-title":"Salvar","cancel-title":"Cancelar",id:"modal1"},on:{ok:a.ok,cancel:function(t){return a.fechar()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-2"},[e("div",{staticClass:"form-group",class:{"has-error":a.erro}},[e("label",{attrs:{for:""}},[a._v("Id")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.jornada.idJornadaTrabalho,expression:"jornada.idJornadaTrabalho"}],staticClass:"form-control",attrs:{type:"text",disabled:"",name:"jornada"},domProps:{value:a.jornada.idJornadaTrabalho},on:{input:function(t){t.target.composing||a.$set(a.jornada,"idJornadaTrabalho",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Descrição")]),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.jornada.descricao,expression:"jornada.descricao"}],staticClass:"form-control",attrs:{type:"",name:""},domProps:{value:a.jornada.descricao},on:{input:function(t){t.target.composing||a.$set(a.jornada,"descricao",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Tipo")]),a._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:a.jornada.tipoJornada,expression:"jornada.tipoJornada"}],staticClass:"form-control",attrs:{name:""},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.jornada,"tipoJornada",t.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"SELECIONE"}},[a._v("Selecione")]),a._v(" "),e("option",{attrs:{value:"NORMAL"}},[a._v("Normal")]),a._v(" "),e("option",{attrs:{value:"ESCALA_12X36"}},[a._v("Escala 12x36")]),a._v(" "),e("option",{attrs:{value:"ESCALA_24X72"}},[a._v("Escala 24x72")]),a._v(" "),e("option",{attrs:{value:"TURNO_REVEZAMENTO"}},[a._v("Turno Revezamento")]),a._v(" "),e("option",{attrs:{value:"OUTROS"}},[a._v("Outros")])])])])]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Entrada")]),a._v(" "),e("input",{directives:[{name:"mask",rawName:"v-mask",value:"##:##",expression:"'##:##'"},{name:"model",rawName:"v-model",value:a.jornada.entrada,expression:"jornada.entrada"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.jornada.entrada},on:{input:function(t){t.target.composing||a.$set(a.jornada,"entrada",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Saída")]),a._v(" "),e("input",{directives:[{name:"mask",rawName:"v-mask",value:"##:##",expression:"'##:##'"},{name:"model",rawName:"v-model",value:a.jornada.saida,expression:"jornada.saida"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.jornada.saida},on:{input:function(t){t.target.composing||a.$set(a.jornada,"saida",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Início do Intervalo")]),a._v(" "),e("input",{directives:[{name:"mask",rawName:"v-mask",value:"##:##",expression:"'##:##'"},{name:"model",rawName:"v-model",value:a.jornada.intervaloIni,expression:"jornada.intervaloIni"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.jornada.intervaloIni},on:{input:function(t){t.target.composing||a.$set(a.jornada,"intervaloIni",t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Final do Intervalo")]),a._v(" "),e("input",{directives:[{name:"mask",rawName:"v-mask",value:"##:##",expression:"'##:##'"},{name:"model",rawName:"v-model",value:a.jornada.intervaloFim,expression:"jornada.intervaloFim"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.jornada.intervaloFim},on:{input:function(t){t.target.composing||a.$set(a.jornada,"intervaloFim",t.target.value)}}})])])])]),a._v(" "),e("b-modal",{ref:"modalCerteza",attrs:{size:"sm","no-close-on-backdrop":!0,centered:"","hide-header":!0,"hide-footer":!0,"no-close-on-esc":!0,id:"modalCerteza"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 text-center"},[e("h3",[a._v("Tem certeza que deseja excluir esta jornada?")])])]),a._v(" "),e("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn btn-block btn-secondary btn-lg",attrs:{type:"button"},on:{click:a.fecharCerteza}},[e("i",{staticClass:"fa fa-close"}),a._v(" Não")])]),a._v(" "),e("div",{staticClass:"col-md-6 text-center"},[e("button",{staticClass:"btn btn-block btn-danger btn-lg",attrs:{type:"button"},on:{click:a.certeza}},[e("i",{staticClass:"fa fa-check"}),a._v(" Sim")])])])])],1)}),[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("thead",[e("tr",[e("th",[a._v("\n                            Código\n                        ")]),a._v(" "),e("th",[a._v("Descrição")]),a._v(" "),e("th",[a._v("Tipo")]),a._v(" "),e("th",[a._v("Horário")]),a._v(" "),e("th",[a._v("Intervalo")]),a._v(" "),e("th",{staticClass:"text-center no-sort"},[a._v("Ações")])])])}],!1,null,null,null);t.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{164:function(t,a,s){"use strict";function o(t,a,s,o,r,e,n,i){var c,d="function"==typeof t?t.options:t;if(a&&(d.render=a,d.staticRenderFns=s,d._compiled=!0),o&&(d.functional=!0),e&&(d._scopeId="data-v-"+e),n?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=c):r&&(c=i?function(){r.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(d.functional){d._injectStyles=c;var l=d.render;d.render=function(t,a){return c.call(a),l(t,a)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:d}}s.d(a,"a",(function(){return o}))},97:function(t,a,s){"use strict";s.r(a);var o={props:["empresa"],data:function(){return{ppras:[],montou:!1,carregando:!0,mensagem:"Carregando itens cadastrados",html:'<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>',coluna:"",ordem:!0,termo:"",selecionado:"codigo"}},methods:{pdf:function(t){t.caminhoPdf?window.open("http://200.98.201.236:8081/"+t.caminhoPdf):alert("Não há PDF anexado.")},remover:function(t){var a=this;axios.get("/gro/deletar/"+t).then((function(t){a.ppras=t.data,a.carregando=!1}))},tipoPpra:function(t){return"EMISSÃO"==t?"Emissão":"REVISÃO_PARCIAL"==t?"Revisão Parcial":"REVISÃO_GERAL"==t?"Revisão Geral":void 0},ordenar:function(t){this.coluna==t?this.ordem=!this.ordem:this.ordem=!0,this.coluna=t,"versao"==t?1==this.ordem?this.ppras.sort((function(t,a){return t.versao>a.versao?1:t.versao<a.versao?-1:0})):this.ppras.sort((function(t,a){return t.versao>a.versao?-1:t.versao<a.versao?1:0})):"descricao"==t?1==this.ordem?this.ppras.sort((function(t,a){return t.empresasContrato>a.empresasContrato?1:t.empresasContrato<a.empresasContrato?-1:0})):this.ppras.sort((function(t,a){return t.empresasContrato>a.empresasContrato?-1:t.empresasContrato<a.empresasContrato?1:0})):"data"==t&&(1==this.ordem?this.ppras.sort((function(t,a){return t.dataHora>a.dataHora?1:t.dataHora<a.dataHora?-1:0})):this.ppras.sort((function(t,a){return t.dataHora>a.dataHora?-1:t.dataHora<a.dataHora?1:0})))},status:function(t){return"ELABORAÇÃO"==t?"<strong style='color: red'>Em Elaboração</strong>":"Completo"},situacao:function(t){return"LIBERADO"==t?"<strong style='color: red'>Liberado</strong>":"Congelado"}},mounted:function(){var t=this;axios.get("/gro/list").then((function(a){t.ppras=a.data,t.carregando=!1}))}},r=s(164),e=Object(r.a)(o,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"content"},[t.carregando?s("BlockUI",{attrs:{message:t.mensagem,html:t.html}}):t._e(),t._v(" "),s("div",{staticClass:"box box-default"},[s("div",{staticClass:"box-body table-responsive"},[s("table",{staticClass:"table table-hover table-striped"},[s("tbody",[s("tr",[s("th",{class:{selecionado:"versao"==this.coluna},on:{click:function(a){return t.ordenar("versao")}}},[t._v("\n                            Versão\n                            "),"versao"==this.coluna&&this.ordem?s("i",{staticClass:"fa fa-sort-alpha-asc"}):t._e(),t._v(" "),"versao"!=this.coluna||this.ordem?t._e():s("i",{staticClass:"fa fa-sort-alpha-desc"})]),t._v(" "),s("th",{class:{selecionado:"contratante"==this.coluna},on:{click:function(a){return t.ordenar("contratante")}}},[t._v("\n                            Contrat.\n                            "),"contratante"==this.coluna&&this.ordem?s("i",{staticClass:"fa fa-sort-alpha-asc"}):t._e(),t._v(" "),"contratante"!=this.coluna||this.ordem?t._e():s("i",{staticClass:"fa fa-sort-alpha-desc"})]),t._v(" "),s("th",[t._v("Tipo PPRA")]),t._v(" "),s("th",{class:{selecionado:"data"==this.coluna},on:{click:function(a){return t.ordenar("data")}}},[t._v("\n                            Data\n                            "),"data"==this.coluna&&this.ordem?s("i",{staticClass:"fa fa-sort-alpha-asc"}):t._e(),t._v(" "),"data"!=this.coluna||this.ordem?t._e():s("i",{staticClass:"fa fa-sort-alpha-desc"})]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Situação")]),t._v(" "),s("th")]),t._v(" "),t._l(t.ppras,(function(a){return s("tr",[s("td",[t._v(t._s(a.versao))]),t._v(" "),s("td",[s("strong",[t._v(t._s(a.empresasContrato[0].empresaContratante.idEmpresa))]),t._v(" - "+t._s(a.empresasContrato[0].empresaContratante.nomeFantasia)+" ")]),t._v(" "),s("td",[t._v(t._s(t.tipoPpra(a.tipoPpra)))]),t._v(" "),s("td",[t._v(t._s(t._f("moment")(a.dataHora,"DD/MM/YYYY")))]),t._v(" "),s("td",{domProps:{innerHTML:t._s(t.status(a.status))}}),t._v(" "),s("td",{domProps:{innerHTML:t._s(t.situacao(a.liberado))}}),t._v(" "),s("td",[s("a",{staticClass:"btn btn-sm btn-outline-primary",attrs:{href:"/gro/editar/"+a.idPpra}},[s("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" "),a.caminhoPdf?s("a",{attrs:{href:"#"},on:{click:function(s){return t.pdf(a)}}},[s("img",{attrs:{src:"/img/pdf.png",width:"21px"}})]):t._e(),t._v(" "),"LIBERADO"==a.liberado?s("button",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){return t.remover(a.idPpra)}}},[s("i",{staticClass:"fas fa-trash"})]):t._e()])])}))],2)])])])],1)}),[],!1,null,"2bc6ac20",null);a.default=e.exports}}]);